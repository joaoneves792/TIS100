@0
MOV RIGHT, ACC
L:SUB 1
MOV ACC, DOWN
JGZ L

@1
MOV UP, ACC
SAV
MOV UP, ACC
MOV UP, RIGHT
MOV UP, RIGHT
MOV RIGHT, LEFT
SWP
MOV ACC, DOWN
SWP
MOV ACC, DOWN

@2
S:MOV LEFT, ACC
SAV
MOV LEFT, ACC
MOV ACC, LEFT
L:SUB 1
JLZ E
MOV ACC, DOWN
SWP
MOV ACC, DOWN
SWP
JMP L

E:MOV -1, DOWN

@3
MOV RIGHT, ACC
SWP
L:SWP
MOV ACC, RIGHT
ADD 1
SWP
MOV UP, ACC
JGZ L
MOV -1, RIGHT

@4
S:MOV UP, ACC
SAV
MOV UP, LEFT
LY:MOV LEFT, ACC
JLZ S
SWP
MOV ACC, DOWN
SWP
MOV ACC, DOWN
LX:MOV RIGHT, ACC
JEZ NY
MOV 3, DOWN
JMP LX
NY:MOV -1, DOWN
JMP LY

@5
S:
MOV UP, ACC
JLZ S
MOV UP, ACC
L:SUB 1
JLZ E
MOV 1, LEFT
JMP L
E:MOV NIL, LEFT
#PASS OFFSET AS 1

@6


@7


@8
MOV UP, RIGHT

@9
MOV LEFT, DOWN

@10


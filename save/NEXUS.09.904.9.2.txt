@0
MOV DOWN, NIL
S:MOV UP, ACC
JEZ E
MOV -1, RIGHT
L1:SUB 1
JEZ F
MOV LEFT, RIGHT
JMP L1
F:MOV LEFT, DOWN
MOV DOWN, LEFT
L2:MOV RIGHT, ACC
JLZ S
MOV ACC, LEFT
JMP L2
E:MOV NIL, DOWN

@1
S:MOV -1, UP
MOV 100, UP
MOV 100, UP
MOV 100, UP
MOV 100, UP
MOV 100, UP
MOV NIL, RIGHT
MOV RIGHT, NIL
L:MOV UP, ACC
MOV ACC, DOWN
JLZ S
MOV ACC, DOWN
MOV ACC, DOWN
JMP L

@2
MOV LEFT, UP
L:MOV UP, ACC
JEZ E
ADD 1
MOV ACC, UP
JMP L
E:MOV NIL, LEFT
L2:SUB 5
JEZ E2
ADD 6
MOV ACC, DOWN
MOV ACC, DOWN
JMP L2
E2:MOV 0, DOWN

@3


@4
L:SWP
MOV UP, ACC
JLZ L
SWP
SUB UP
JLZ NEW
JEZ DRAW
ADD UP
MOV -1, RIGHT
JMP L
NEW:MOV 1,RIGHT
MOV UP, ACC
JMP L
DRAW:MOV 0, RIGHT
MOV UP, ACC

@5
L:MOV UP, ACC
JEZ E
MOV LEFT, ACC
JGZ NEW
MOV UP, NIL
JEZ D
JMP L
NEW:MOV UP, ACC
SAV
JMP L
D:MOV 0, ACC
SAV
JMP L
E:SWP
MOV ACC, DOWN

@6


@0
S:MOV ANY, ACC
SWP
L:MOV ACC, LEFT
SWP
JGZ A1
JLZ S1
A1:SUB 1
SWP
ADD 1
JMP L
S1:ADD 1
SWP
SUB 1
JMP L

@1
S:MOV UP, ACC
MOV UP, RIGHT
JEZ R
SUB 180
JLZ U
JEZ L
D:MOV NIL, RIGHT
JMP 0H
U:MOV 1, RIGHT
0H:MOV -1, DOWN
JMP S
R:MOV NIL, DOWN
JMP 0V
L:MOV 1, DOWN
0V:MOV -1, RIGHT

@2
S:MOV LEFT, DOWN
MOV LEFT, RIGHT

@3
MOV LEFT, DOWN

@4


@5
S:MOV UP, ACC
JLZ 0
JGZ L
R:MOV RIGHT, ACC
MOV 0, RIGHT
MOV ACC, DOWN
JMP S
L:MOV RIGHT, ACC
NEG
MOV ACC, DOWN
MOV 0, RIGHT
JMP S
0:MOV RIGHT, NIL
MOV -1, RIGHT
MOV 0, DOWN

@6
S:MOV UP, ACC
SAV
MOV ACC, LEFT
MOV ACC, RIGHT
MOV LEFT, ACC
JEZ LIN
MOV RIGHT, ACC
COL:SWP
NEG
MOV ACC, DOWN
JMP E
LIN:MOV RIGHT, NIL
SWP
MOV ACC, DOWN
E:MOV DOWN, NIL

@7
S:MOV UP, ACC
JLZ 0
JGZ U
D:MOV LEFT, ACC
MOV 1, LEFT
MOV ACC, DOWN
JMP S
U:MOV LEFT, ACC
MOV 1, LEFT
NEG
MOV ACC, DOWN
JMP S
0:MOV LEFT, NIL
MOV -1, LEFT
MOV 0, DOWN

@8
S:MOV ANY, ACC
JMP L
A1:SWP
MOV ACC, RIGHT
ADD 1
SWP
SUB 1
JMP L
S1:SWP
MOV ACC, RIGHT
SUB 1
SWP
SUB 1
L:JGZ A1
JLZ S1

@9
S:MOV UP, ACC
L:MOV LEFT, DOWN
MOV RIGHT, DOWN
MOV 3, DOWN
MOV -1, DOWN
JLZ C
SUB 1
JEZ E
MOV 0, RIGHT
JMP L
C:ADD 1
JEZ E
MOV 0, LEFT
JMP L
E:MOV NIL, UP

@10
S:MOV ANY, ACC
JMP L
A1:SWP
MOV ACC, LEFT
ADD 1
SWP
SUB 1
JMP L
S1:SWP
MOV ACC, LEFT
SUB 1
SWP
SUB 1
L:JGZ A1
JLZ S1

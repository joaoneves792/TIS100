@0
MOV RIGHT, ACC
MOV ACC, DOWN

@1
MOV 0, LEFT
L:MOV UP, ACC
JEZ E
MOV ACC, LEFT
JMP L
E:MOV NIL, RIGHT
MOV NIL, DOWN
MOV DOWN, NIL

@2
MOV LEFT, NIL
MOV 0, DOWN

@3
S:MOV UP, NIL
L:MOV LEFT, ACC
MOV ACC, DOWN
JEZ E
MOV RIGHT, ACC
MOV ACC, RIGHT
SUB DOWN
JLZ P
MOV RIGHT, LEFT
MOV DOWN, LEFT
JMP L
E:MOV DOWN, UP
JMP S
P:MOV DOWN, RIGHT
JMP L

@4


@5
L:MOV UP, ACC
JEZ E
MOV ACC, UP
MOV ACC, UP
JMP L
E:MOV NIL, RIGHT
MOV RIGHT, DOWN
MOV NIL, UP

@6
MOV LEFT, NIL
MOV UP, ACC
L2:SAV
SUB 1
SUB UP
JGZ E
L1:SWP
SUB 1
JMP L2
E:SWP
SUB 1
MOV ACC, LEFT
LE:MOV UP, ACC
JGZ LE

@0


@1
MOV UP, RIGHT

@2
MOV 0, RIGHT
MOV UP, ACC
SWP
MOV LEFT, ACC
SWP
L:SWP
MOV ACC, RIGHT
SWP
SUB 1
JGZ L
MOV NIL, DOWN
MOV DOWN, NIL

@3
MOV LEFT, DOWN

@4
S:MOV RIGHT, ACC
MOV RIGHT, DOWN
L:SWP
ADD DOWN
SWP
SUB 1
JEZ E
MOV DOWN, DOWN
JMP L
E:MOV DOWN, NIL
SWP
MOV ACC, RIGHT
JMP S

@5
MOV UP, NIL
MOV RIGHT, LEFT
L:MOV RIGHT, ACC
JEZ E
MOV ACC, LEFT
MOV LEFT, DOWN
MOV DOWN, LEFT
JMP L
E:MOV NIL, UP
MOV 1, LEFT
MOV -1, DOWN
MOV LEFT, DOWN

@6
MOV UP, ACC
MOV ACC, UP
MOV ACC, UP

@7
L:MOV UP, ACC
JLZ E
MOV ACC, UP
JMP L
E:MOV UP, DOWN

@8


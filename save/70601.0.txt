@0


@1
MOV DOWN, RIGHT
MOV UP, RIGHT
MOV UP, RIGHT

@2
MOV 30, ACC
SUB LEFT #OFF
MOV ACC, RIGHT
SWP
MOV LEFT, ACC#LEN
MOV ACC, RIGHT
SWP
MOV LEFT, DOWN
MOV ACC, DOWN#30-O
SWP
MOV ACC, DOWN#LEN
MOV ACC, RIGHT
SWP
MOV RIGHT, DOWN

@3
S:MOV LEFT, ACC
SAV
SUB LEFT
JLZ OFF
LEN:MOV LEFT, LEFT
JMP S
OFF:MOV LEFT, NIL
SWP
MOV ACC, LEFT

@4


@5
S:MOV ACC, UP
S2:MOV RIGHT, ACC
JLZ L
MOV 0, DOWN#L
MOV ACC, DOWN#C
MOV DOWN, ACC
JMP S
L:MOV 1, DOWN#L
MOV 0, DOWN#C
MOV DOWN, ACC
JMP S2

@6
S:MOV UP, RIGHT
MOV UP, ACC
SUB UP
JLZ 2
!MOV UP, ACC
MOV ACC, DOWN
MOV ACC, LEFT
MOV 1, RIGHT
JMP S
!2:MOV UP, DOWN
MOV -1, LEFT
MOV NIL, RIGHT
NEG
!MOV ACC, DOWN
MOV ACC, LEFT

@7
S:MOV LEFT, ACC
MOV ACC, DOWN
SWP
MOV LEFT, ACC
JEZ A
JMP S
A:SWP
MOV ACC, DOWN

@8
#LINES ARE STORED
#HERE
ADD RIGHT
MOV ACC, RIGHT

@9
MOV 0, LEFT
S:MOV ACC, RIGHT
MOV LEFT, RIGHT
SWP
MOV UP, ACC#L
MOV ACC, LEFT#L
JEZ C
SWP
MOV NIL, ACC
JMP C2
C:SWP
C2:ADD UP#C
MOV ACC, UP
JMP S

@10
MOV UP, ACC#LEN
!SAV
MOV LEFT, DOWN
MOV LEFT, DOWN
MOV RIGHT, ACC#COR
SWP
L:SWP
MOV ACC, DOWN
SWP
SUB 1
JGZ L
MOV -1, DOWN

@11
MOV UP, LEFT
